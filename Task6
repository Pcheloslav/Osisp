#!/bin/bash

#6	Написать скрипт, выводящий в файл (имя файла задаётся пользователем в качестве первого аргумента командной строки) имена всех файлов 
#с заданным расширением (третий аргумент командной строки) из заданного каталога (имя каталога задаётся пользователем в качестве второго аргумента  командной строки).
#Если не хватает параметров, то вывести подсказку с описанием количества параметров и их значения. Если количество параметров верное, но они не валидные, 
#то вывести сообщение об ошибке в поток ошибок (поток номер 2). 
#Имя каждого файла должно печататься с новой строки. Имена файлов должны быть отсортированы в алфавитном порядке.


set -eu

if [[ "$#" -ne 3 ]]; then
  echo "Invalid number of arguments. There must be 3 arguments: 1.Filename 2.Directory 3.Extension" >&2
  exit 1

fi

outfile=${1}
src_dir=${2}
extension=${3}


if [[ ! -d ${src_dir} ]]; then
  echo "Source folder '${src_dir}' does not exist" >&2
  exit 1
fi


rm -f ${outfile}
find ${src_dir} -name "*.$extension" | sort -f > ${outfile}

